<!DOCTYPE html>
<html>

<head>
  <meta charset='utf-8'/>
  <meta http-equiv="X-UA-Compatible" content="chrome=1"/>
  <meta name="description" content="db-nuodb : NuoDB database bindings for Node.js"/>

  <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

  <title>db-nuodb</title>
</head>

<body>

<!-- HEADER -->
<div id="header_wrap" class="outer">
  <header class="inner">
    <a id="forkme_banner" href="https://github.com/nuodb/node-db-nuodb">View on GitHub</a>

    <h1 id="project_title">db-nuodb</h1>

    <h2 id="project_tagline">NuoDB database bindings for Node.js</h2>

    <section id="downloads">
      <a class="zip_download_link" href="https://github.com/nuodb/node-db-nuodb/zipball/master">Download this project as
        a .zip file</a>
      <a class="tar_download_link" href="https://github.com/nuodb/node-db-nuodb/tarball/master">Download this project as
        a tar.gz file</a>
    </section>
  </header>
</div>

<!-- MAIN CONTENT -->
<div id="main_content_wrap" class="outer">
  <section id="main_content" class="inner">

    <h3>Welcome to the db-nuodb Project</h3>

    <p>This project provides a Node.js database driver for the NuoDB database.</p>

    <h3>Install</h3>

    <p>Before proceeding with installation, make sure you have NuoDB installed on your system.
      Specifically, you should have access to the libNuoRemote binary. If your NuoDB installation is not under 
      the default location (usually /opt/nuodb), then you MUST specify the NUODB_HOME environment variable:</p>

    <pre><code>$ export NUODB_HOME=/usr/local/nuodb # ignore this if using default location</code></pre>

    <p>And now for the actual install, having set up your environment, above:</p>

    <pre><code>$ npm install db-nuodb</code></pre>

    <h3>Connecting</h3>
    <p>You should have a running NuoDB Database to try these examples. But don't fret, we can get a running NuoDB Database
    running by using a quickstart script which is shipped alongside NuoDB. </p>
    <pre><code>$ /opt/nuodb/run-quickstart </code></pre>

    <p>If you already have a running NuoDB Database simply correct the credentials used below.</p>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).on('error', function(error) {
        console.log('ERROR: ' + error);
    }).on('ready', function(server) {
        console.log('Connected to ' + server.hostname + ' (' + server.version + ')');
    }).connect();</code></pre>

    <h3>Querying</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            select('*').
            from('hockey').
            where('position = ?', [ 'Defense' ]).
            order({'number': false}).
            execute(function(error, rows, cols) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log(rows.length + ' ROWS found');
            });
    });</code></pre>

    <h3>Using Manual Queries</h3>

    <p>In the example below, usage of <a href="http://nodejsdb.org/docs#database_name">Database.name()</a>
      and <a href="http://nodejsdb.org/docs#database_escape">Database.escape()</a> is not mandatory,
      but recommended.</p>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query('SELECT * FROM ' + this.name('hockey') + ' WHERE ' + this.name('name') + ' LIKE \'A%\'').
            execute(function(error, rows, cols) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log(rows.length + ' ROWS found');
            });
    });</code></pre>

    <h3>Inserting</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            insert('hockey',
                ['Number', 'Name', 'Position'],
                [33,'Test User', 'TESTER']
            ).
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('GENERATED id: ' + result.id);
            });
    });</code></pre>

    <h3>Updating</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            update('hockey').
            set({ 'name': 'New Name Tester' }).
            where('id = ?', [ 24 ]).
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('RESULT: ', result);
            });
    });</code></pre>

    <h3>Deleting</h3>

    <pre><code>var nuodb = require('db-nuodb');
    new nuodb.Database({
        hostname: 'localhost',
        user: 'dba',
        password: 'goalie',
        database: 'test',
        schema: 'hockey'
    }).connect(function(error) {
        if (error) {
            return console.log('CONNECTION error: ' + error);
        }
        this.query().
            delete().
            from('hockey').
            where('name like ? ', [ 'Test%' ]).
            execute(function(error, result) {
                    if (error) {
                            console.log('ERROR: ' + error);
                            return;
                    }
                    console.log('RESULT: ', result);
            });
    });</code></pre>

    <h3>Documentation</h3>

    <p>For more in depth documentation check <a href="http://nodejsdb.org/docs">node-dbâ€™s documentation</a>.</p>

    <h3>Authors and Contributors</h3>

    <p>Robert Buck (<a href="https://github.com/rbuck" class="user-mention">@rbuck</a>).</p>

    <h3>Support or Contact</h3>

    <p>You can report bugs on the <a href="https://github.com/nuodb/node-db-nuodb/issues">project issues page</a>.</p>
  </section>
</div>

<!-- FOOTER  -->
<div id="footer_wrap" class="outer">
  <footer class="inner">
    <p class="copyright">db-nuodb Copyright (c) 2012-2013 by <a href="https://www.nuodb.com/">NuoDB, Inc.</a></p>
  </footer>
</div>

<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-38353261-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>

</body>
</html>
